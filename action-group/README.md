# 지식 베이스와 액션 그룹을 갖춘 에이전트 생성

이 폴더는 Amazon Bedrock의 지식 베이스(Knowledge Base)와 액션 그룹(Action Group)을 모두 활용하여 다기능 레스토랑 AI 도우미를 구축하는 방법을 안내하는 Jupyter 노트북 예제를 제공합니다. 이 README는 Bedrock 에이전트의 핵심 구성 요소와 전체 실습 과정을 이해하는 데 도움을 주기 위해 작성되었습니다.

---

## 핵심 개념: 에이전트, 지식 베이스, 액션 그룹

### Amazon Bedrock 에이전트란?

**Amazon Bedrock 에이전트**는 단순한 챗봇을 넘어, 사용자의 요청을 이해하고 여러 단계의 작업을 자율적으로 수행할 수 있는 프로그램입니다. 에이전트는 사용자의 자연어 요청을 해석하여, 정보를 검색하거나 특정 작업을 수행하는 등 최적의 행동을 스스로 결정합니다.

### 지식 베이스(Knowledge Base)란 무엇인가?

**지식 베이스**는 에이전트에게 특정 분야의 전문 지식을 제공하는 '외부 두뇌'와 같습니다. PDF, Word, HTML 등 다양한 형식의 문서를 S3에 업로드하면, 지식 베이스는 이 문서들을 자동으로 검색 가능한 형태로 변환하여 저장합니다.

사용자가 메뉴에 대해 질문하면, 에이전트는 지식 베이스를 참조하여 가장 관련성 높은 정보를 찾아내고, 이를 바탕으로 정확한 답변을 생성합니다. 이를 통해 에이전트는 개발자가 미리 프로그래밍하지 않은 내용에 대해서도 답변할 수 있게 됩니다. (이 과정을 **RAG, Retrieval-Augmented Generation** 이라고 합니다.)

### 액션 그룹(Action Group)이란 무엇인가?

**액션 그룹**은 에이전트가 정보를 검색하는 것을 넘어, 실제 시스템과 상호작용하여 **작업을 수행**할 수 있도록 하는 '도구(tool) 모음'입니다. 각 액션은 AWS Lambda 함수와 같은 API를 통해 정의됩니다.

예를 들어, "테이블을 예약해줘"라는 요청을 받으면, 에이전트는 '예약 생성' 액션을 호출하여 Lambda 함수를 실행하고, 이 함수가 데이터베이스(DynamoDB)에 예약 정보를 기록합니다. 이처럼 액션 그룹은 에이전트가 외부 시스템을 제어하고 실질적인 변화를 만들어낼 수 있게 해줍니다.

---

## 예제 아키텍처

이 예제에서는 레스토랑 AI 도우미를 만듭니다. 에이전트는 두 가지 주요 능력을 가집니다.

1.  **지식 베이스**: 레스토랑 메뉴(성인용, 어린이용)에 대한 질문에 답변합니다.
2.  **액션 그룹**: 테이블 예약 시스템을 관리합니다 (예약 생성, 조회, 삭제).



사용자의 요청은 Bedrock 에이전트로 전달됩니다. 에이전트는 요청의 의도를 파악하여, 메뉴 정보가 필요하면 **지식 베이스**를 조회하고, 예약 관리가 필요하면 액션 그룹(Lambda 함수)을 호출합니다.

---

## 실습 진행 단계

이 노트북은 다음 단계를 통해 레스토랑 AI 도우미를 완성합니다.

1.  **환경 설정 (Environment Setup)**
    * 필요한 Python 라이브러리를 설치하고 AWS 서비스에 접근하기 위한 클라이언트를 초기화합니다.

2.  **지식 베이스 구축 (Building the Knowledge Base)**
    * 메뉴 정보가 담긴 PDF 파일들을 Amazon S3에 업로드합니다.
    * S3의 문서들을 기반으로 Amazon Bedrock 지식 베이스를 생성하고 데이터를 동기화합니다.
    * 생성된 지식 베이스가 질문에 올바르게 답변하는지 직접 테스트합니다.

3.  **액션 그룹 백엔드 구현 (Implementing the Action Group Backend)**
    * 예약 정보를 저장할 Amazon DynamoDB 테이블을 생성합니다.
    * 예약 생성, 조회, 삭제 로직을 담은 AWS Lambda 함수를 작성하고 배포합니다.

4.  **에이전트 생성 및 통합 (Creating and Integrating the Agent)**
    * Amazon Bedrock 에이전트를 생성합니다.
    * 앞서 만든 **액션 그룹**(Lambda 함수)과 **지식 베이스**를 에이전트에 연결하여 능력을 부여합니다.
    * 에이전트를 배포하고 호출할 수 있도록 별칭(Alias)을 생성합니다.

5.  **에이전트 테스트 (Testing the Agent)**
    * 메뉴 질문(지식 베이스)과 예약 요청(액션 그룹)을 통해 에이전트가 두 기능을 모두 올바르게 수행하는지 검증합니다.
    * 에이전트의 내부 동작 과정을 추적하는 `Trace` 기능을 활성화하여 어떻게 요청을 처리하는지 살펴봅니다.

6.  **(선택) 에이전트 평가 (Optional: Agent Evaluation)**
    * `Agent Evaluation Framework`를 사용하여 정의된 테스트 케이스를 기반으로 에이전트의 성능을 체계적으로 평가합니다.

7.  **리소스 정리 (Resource Cleanup)**
    * 불필요한 AWS 비용이 발생하지 않도록 실습에서 생성한 모든 리소스(에이전트, 지식 베이스, Lambda, DynamoDB 등)를 삭제합니다.